image: node:lts-bullseye

# services:
#   - name: arangodb/arangodb:3.7.12
#     alias: db

app:
  cache:
    key:
      files:
        - app/package-lock.json
    paths:
      - app/.npm/

  before_script:
    - cd app
  script:
    - npm install --cache .npm --prefer-offline
    - npm run build
    - npm run lint

# TODO test running `npm run seed seeds/test`
